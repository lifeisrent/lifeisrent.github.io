---
title: "🦋 데이터 불균형 : Augmentation으로 해소"
excerpt: "데이터 증강(Augmentation)이 왜 필요한지 설명하고, 실무에서 전처리를 보는 관점을 제시합니다."
categories: [vision, preprocessing]
tags: [augmentation, preprocessing, data]
layout: single
toc: true
toc_label: "On this page"
toc_sticky: true
permalink: /planning/augmentation/
---


# Augmentation

**요약:**  
Augmentation(증강)은 회전, 반전, 확대 등 다양한 변형을 통해 사진 한 장을 여러 장처럼 사용할 수 있게 해주는 기법이다.  
아래의 나비 그림은 그 효과를 잘 보여준다.

## 🦋 Augmentation의 필요성

<img src="/assets/images/2025/DLplanning/augmentation-sample.png" 
     alt="곤충 분류 예시 - Augmentation 샘플" 
     width="700"/>

<small>
출처: <a href="https://www.biorxiv.org/content/10.1101/2024.11.01.621497v1.full" target="_blank" rel="noopener noreferrer">
BioRxiv 논문: Augmentation for Insect Species Identification</a>
</small>

---

모델 학습에 **여러 장의 이미지가 필요한 이유**는 두 가지로 요약할 수 있다.

1. 다양한 데이터가 모델 성능을 높인다  
2. 불량 데이터 자체가 부족하다

## 📌 1. 다양한 데이터 → 더 강한 모델

모델 학습에 **Augmentation**이 필요한 이유를 설명하기 위한 예시로,  
카메라로 곤충을 인식하는 소프트웨어 **AInsectID**를 들 수 있다.

모델이 **호랑나비 사진 한 장만** 학습했다고 가정하자.  
하지만 실제 환경에서는 나비가 다음처럼 다양하게 등장할 수 있다:

- 나뭇잎 위에 비스듬히 앉아 있거나  
- 그늘진 곳에 있거나  
- 날개의 무늬나 색상이 다를 수 있다

이런 변화에 모델이 적응하지 못하면 인식이 안될 수 있다.

이를 해결하는 방법이 바로 👉 **데이터 증강(Augmentation)**이다.  

이런 상황에 적응하려면, **회전, 색상 변화, 크기 조절 등**을 통해  
다양한 상황을 학습할 수 있도록 **Augmentation**이 꼭 필요하다.

---


## 📌 2. 현실적인 한계: 데이터 부족

특히 반도체 웨이퍼 검사처럼 실제 산업 환경에서는  
**결함 데이터 확보가 어렵다는 현실적인 제약**이 있다.

---

### ❗ 왜 데이터가 부족한가?

- 실제 불량은 **발생 빈도 자체가 낮다**
- 불량을 일부러 발생시키자니 비효율적이다
  (예: 장비 멈춤, 생산 손실 등 부작용 발생)

---

### 📊 산업 현장에서 요구되는 데이터량 예시

| 분류 항목               | 최소 권장량      | 현실 확보 가능량 (예시) |
|------------------------|------------------|--------------------------|
| **정상 샘플**           | 5,000장 이상     | 10,000장 이상 확보 가능 |
| **결함 샘플 (종류별)**  | 각 1,000장 이상  | 50~300장 수준 (매우 부족) |

> 일반적으로 정상:불량 비율이 **100:1 이상**이다.

---

### ⚠️ 데이터 불균형이 야기하는 문제

- 딥러닝 기반 모델은 보통 **수천~수만 장의 데이터**를 요구한다
- **결함 샘플**은 종류별로 수십 장만 확보되는 경우도 많음  
- 특히 **새로운 결함 유형**이 등장하면 기존 모델이 잘 작동하지 않음  
- 결과적으로, **과적합** 또는 **편향된 학습**이 발생할 수 있음
- 
---

## 🚩 대응 전략

이러한 데이터 불균형을 해소하기 위해 쓰이는 방법은 다음과 같다:

- **Transfer Learning** 같은 **소량 학습 기법**을 도입한다
- 기존 이미지에 다양한 변형을 적용하는  
  **데이터 증강(Augmentation)**을 적극 활용한다

---

## 🧠 전처리 팁

전처리는 **사람과 모델의 관점이 다르다.**

사람은 **깔끔한 이미지**를 선호하지만,  
모델은 **불량의 수치적 특징이 뚜렷한 이미지**를 더 잘 학습한다.

예를 들어, 뿌연 이미지는 사람이 보기엔 불편하지만  
모델에게는 불량이 더 잘 드러날 수 있다.

따라서 전처리는 **사람 기준이 아닌 모델 기준**으로 수행해야 한다.

---

### 🔍 비교 표

| 분류           | 사람 기준       | 모델 기준               | 결론                         |
|----------------|----------------|--------------------------|------------------------------|
| **특징**        | 시각적 편안     | 수치적 인식              | ✅ 모델 기준으로 전처리함     |
| **뿌연 사진**   | 보기 불편       | 불량 특징이 더 두드러짐   | ✅ 모델 선호                  |
| **깔끔한 사진** | 보기 편함       | 특징이 사라짐             | ⚠️ 모델 비선호                |

---

### 🖼️ 예시 이미지

<img src="/assets/images/2025/DLplanning/example-blur.jpg" 
     alt="Blur Example" 
     width="700"/>

<small>
출처: <a href="https://www.manula.com/manuals/fxhome/imerge-pro/2021.5/en/topic/blurs" target="_blank" rel="noopener noreferrer">
FXHome Imerge Pro Manual - Blur Effects</a>
</small>
